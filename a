<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tin t·ª©c XAU/USD m·ªõi nh·∫•t</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    h2 { color: #b8860b; }
    .news-item { margin-bottom: 15px; padding: 10px; background: #fff; border-radius: 8px; }
    .news-item a { font-weight: bold; text-decoration: none; color: #333; }
    .news-item small { color: #666; }
  </style>
</head>
<body>
  <h2>Tin t·ª©c XAU/USD m·ªõi nh·∫•t</h2>
  <div id="news">ƒêang t·∫£i tin...</div>

  <script>
    async function loadNews() {
      try {
        const rssUrl = "https://www.fxstreet-vn.com/rss/news";
        const response = await fetch("https://api.allorigins.win/get?url=" + encodeURIComponent(rssUrl));
        const data = await response.json();
        const xml = new DOMParser().parseFromString(data.contents, "text/xml");
        const items = Array.from(xml.querySelectorAll("item"));

        // l·ªçc tin v√†ng
        let goldNews = items.filter(item => {
          const t = item.querySelector("title").textContent.toLowerCase();
          return t.includes("xau") || t.includes("v√†ng") || t.includes("gold");
        });

        // s·∫Øp x·∫øp theo pubDate m·ªõi nh·∫•t
        goldNews.sort((a, b) => new Date(b.querySelector("pubDate").textContent) - new Date(a.querySelector("pubDate").textContent));

        // l·∫•y t·ªëi ƒëa 3 tin
        goldNews = goldNews.slice(0, 3);

        const container = document.getElementById("news");
        if (goldNews.length === 0) {
          container.innerHTML = "<p>Kh√¥ng c√≥ tin XAU/USD n√†o g·∫ßn ƒë√¢y.</p>";
          return;
        }

        container.innerHTML = goldNews.map(item => {
          const title = item.querySelector("title").textContent;
          const link = item.querySelector("link").textContent;
          const pubDate = new Date(item.querySelector("pubDate").textContent).toLocaleString("vi-VN");
          return `
            <div class="news-item">
              <a href="${link}" target="_blank">${title}</a><br>
              <small>üïí ${pubDate}</small>
            </div>
          `;
        }).join("");
      } catch (err) {
        document.getElementById("news").innerHTML = "<p>L·ªói t·∫£i d·ªØ li·ªáu.</p>";
        console.error(err);
      }
    }

    // load l·∫ßn ƒë·∫ßu
    loadNews();

    // auto refresh m·ªói 5 ph√∫t
    setInterval(loadNews, 5 * 60 * 1000);
  </script>
</body>
</html>
